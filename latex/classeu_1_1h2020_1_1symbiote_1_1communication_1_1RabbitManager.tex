\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager}{}\section{eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager Class Reference}
\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager}\index{eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager@{eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager}}


Collaboration diagram for eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=251pt]{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a30abf6a670122eb22a8105a206858616}{init\+Communication} ()
\item 
String \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a822ebbed01755311ca9038bb7fa43591}{send\+Rpc\+Message} (String exchange\+Name, String routing\+Key, String message)
\item 
\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1RpcResourceResponse}{Rpc\+Resource\+Response} \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a6808181b7e4c15f2df78ce4fad849410}{send\+Rpc\+Resource\+Message} (String exchange\+Name, String routing\+Key, \hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1Resource}{Resource} resource)
\item 
\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1RpcResourceResponse}{Rpc\+Resource\+Response} \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a08dd4eafe2acb4f63d1f91f5bb06e334}{send\+Resource\+Creation\+Request} (\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1Resource}{Resource} resource)
\item 
\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1RpcResourceResponse}{Rpc\+Resource\+Response} \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_aaa73d52dd050020e7f639e19ec2d1c74}{send\+Resource\+Removal\+Request} (\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1Resource}{Resource} resource)
\item 
\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1RpcResourceResponse}{Rpc\+Resource\+Response} \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_ac2d5ddaefda40d8c479857ca18f6a505}{send\+Resource\+Modification\+Request} (\hyperlink{classeu_1_1h2020_1_1symbiote_1_1model_1_1Resource}{Resource} resource)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class used for all internal communication using Rabbit\+MQ A\+M\+QP implementation. It works as a Spring Bean, and should be used via autowiring. 

\hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager}{Rabbit\+Manager} uses properties taken from Core\+Config\+Server to set up communication (exchange parameters, routing keys etc.) 

\subsection{Member Function Documentation}
\index{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}!init\+Communication@{init\+Communication}}
\index{init\+Communication@{init\+Communication}!eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}}
\subsubsection[{\texorpdfstring{init\+Communication()}{initCommunication()}}]{\setlength{\rightskip}{0pt plus 5cm}void eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager.\+init\+Communication (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a30abf6a670122eb22a8105a206858616}{}\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a30abf6a670122eb22a8105a206858616}
Method used to initialise Rabbit\+MQ connection and declare all required exchanges. This method should be called once, after bean initialization (so that properties from Core\+Config\+Server are obtained), but before using \hyperlink{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager}{Rabbit\+Manager} to send any message. \index{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}!send\+Resource\+Creation\+Request@{send\+Resource\+Creation\+Request}}
\index{send\+Resource\+Creation\+Request@{send\+Resource\+Creation\+Request}!eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}}
\subsubsection[{\texorpdfstring{send\+Resource\+Creation\+Request(\+Resource resource)}{sendResourceCreationRequest(Resource resource)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Rpc\+Resource\+Response} eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager.\+send\+Resource\+Creation\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Resource}}]{resource}
\end{DoxyParamCaption}
)}\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a08dd4eafe2acb4f63d1f91f5bb06e334}{}\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a08dd4eafe2acb4f63d1f91f5bb06e334}
Method used to send R\+PC request to create resource.


\begin{DoxyParams}{Parameters}
{\em resource} & resource to be created \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
object containing status of requested operation and, if successful, a resource object containing assigned ID 
\end{DoxyReturn}
\index{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}!send\+Resource\+Modification\+Request@{send\+Resource\+Modification\+Request}}
\index{send\+Resource\+Modification\+Request@{send\+Resource\+Modification\+Request}!eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}}
\subsubsection[{\texorpdfstring{send\+Resource\+Modification\+Request(\+Resource resource)}{sendResourceModificationRequest(Resource resource)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Rpc\+Resource\+Response} eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager.\+send\+Resource\+Modification\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Resource}}]{resource}
\end{DoxyParamCaption}
)}\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_ac2d5ddaefda40d8c479857ca18f6a505}{}\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_ac2d5ddaefda40d8c479857ca18f6a505}
Method used to send R\+PC request to modify resource.


\begin{DoxyParams}{Parameters}
{\em resource} & resource to be modified \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
object containing status of requested operation and, if successful, a resource object 
\end{DoxyReturn}
\index{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}!send\+Resource\+Removal\+Request@{send\+Resource\+Removal\+Request}}
\index{send\+Resource\+Removal\+Request@{send\+Resource\+Removal\+Request}!eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}}
\subsubsection[{\texorpdfstring{send\+Resource\+Removal\+Request(\+Resource resource)}{sendResourceRemovalRequest(Resource resource)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Rpc\+Resource\+Response} eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager.\+send\+Resource\+Removal\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Resource}}]{resource}
\end{DoxyParamCaption}
)}\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_aaa73d52dd050020e7f639e19ec2d1c74}{}\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_aaa73d52dd050020e7f639e19ec2d1c74}
Method used to send R\+PC request to remove resource.


\begin{DoxyParams}{Parameters}
{\em resource} & resource to be removed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
object containing status of requested operation and, if successful, a resource object 
\end{DoxyReturn}
\index{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}!send\+Rpc\+Message@{send\+Rpc\+Message}}
\index{send\+Rpc\+Message@{send\+Rpc\+Message}!eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}}
\subsubsection[{\texorpdfstring{send\+Rpc\+Message(\+String exchange\+Name, String routing\+Key, String message)}{sendRpcMessage(String exchangeName, String routingKey, String message)}}]{\setlength{\rightskip}{0pt plus 5cm}String eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager.\+send\+Rpc\+Message (
\begin{DoxyParamCaption}
\item[{String}]{exchange\+Name, }
\item[{String}]{routing\+Key, }
\item[{String}]{message}
\end{DoxyParamCaption}
)}\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a822ebbed01755311ca9038bb7fa43591}{}\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a822ebbed01755311ca9038bb7fa43591}
Method used to send message via R\+PC (Remote Procedure Call) pattern. In this implementation it covers asynchronous Rabbit communication with synchronous one, as it is used by conventional R\+E\+ST facade. Before sending a message, a temporary response queue is declared and its name is passed along with the message. When a consumer handles the message, it returns the result via the response queue. Since this is a synchronous pattern, it uses timeout of 20 seconds. If the response doesn\textquotesingle{}t come in that time, the method returns with null result.


\begin{DoxyParams}{Parameters}
{\em exchange\+Name} & name of the exchange to send message to \\
\hline
{\em routing\+Key} & routing key to send message to \\
\hline
{\em message} & message to be sent \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
response from the consumer or null if timeout occurs 
\end{DoxyReturn}
\index{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}!send\+Rpc\+Resource\+Message@{send\+Rpc\+Resource\+Message}}
\index{send\+Rpc\+Resource\+Message@{send\+Rpc\+Resource\+Message}!eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager@{eu\+::h2020\+::symbiote\+::communication\+::\+Rabbit\+Manager}}
\subsubsection[{\texorpdfstring{send\+Rpc\+Resource\+Message(\+String exchange\+Name, String routing\+Key, Resource resource)}{sendRpcResourceMessage(String exchangeName, String routingKey, Resource resource)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Rpc\+Resource\+Response} eu.\+h2020.\+symbiote.\+communication.\+Rabbit\+Manager.\+send\+Rpc\+Resource\+Message (
\begin{DoxyParamCaption}
\item[{String}]{exchange\+Name, }
\item[{String}]{routing\+Key, }
\item[{{\bf Resource}}]{resource}
\end{DoxyParamCaption}
)}\hypertarget{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a6808181b7e4c15f2df78ce4fad849410}{}\label{classeu_1_1h2020_1_1symbiote_1_1communication_1_1RabbitManager_a6808181b7e4c15f2df78ce4fad849410}
Helper method that provides J\+S\+ON marshalling and unmarshalling for the sake of Rabbit communication.


\begin{DoxyParams}{Parameters}
{\em exchange\+Name} & name of the exchange to send message to \\
\hline
{\em routing\+Key} & routing key to send message to \\
\hline
{\em resource} & resource to be sent \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
response from the consumer or null if timeout occurs 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/java/eu/h2020/symbiote/communication/Rabbit\+Manager.\+java\end{DoxyCompactItemize}
